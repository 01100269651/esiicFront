<!-- <h1 mat-dialog-title>Hi {{data.name}}</h1>
<div mat-dialog-content>
  <p>What's your favorite animal?</p>
  <mat-form-field>
    <mat-label>Favorite Animal</mat-label>
    <input matInput [(ngModel)]="data.animal">
  </mat-form-field>
</div>
<div mat-dialog-actions>
  <button mat-button (click)="onNoClick()">No Thanks</button>
  <button mat-button [mat-dialog-close]="data.animal" cdkFocusInitial>Ok</button>
</div> -->
<div class="row">
 <!-- style="width: 1700px;" -->

  <!-- Basic Layout -->
  <div class="col " style="width: 700px;">
<div class="card mb-4 " >
    <div class="card-header  ">
      <p class="display-5 fw-bold fs-4 text-center">تسجيل الأصناف</p>
    </div>
    <div class="card-body">
   
      <form [formGroup]="itemform">
        <div class="mb-3 d-flex justify-content-center ">
          <div class="col-6">
            <div class="row"> <mat-label>مصنع {{data.Fact.toString()}}</mat-label></div>
            <div class="row"><mat-label>نوع الطلب:{{data.Type.toString()}}</mat-label></div>
            <div class="row"><mat-label> رقم الطلب{{data.Id.toString()}}</mat-label></div>

          </div>
  
        <div class="m-1 col-6">
           <mat-form-field appearance="outline">
          <mat-label >رقم الصنف</mat-label>
          <input 
          [class.is-valid]="Item_No?.valid" [class.is-invalid]="Item_No?.invalid" 
          formControlName="Item_No" 
          matInput (change)="getOrdItmBy()" (change)="getItemName()"   (change)="getMasterFacts()">
        </mat-form-field>
      </div>



         <!-- <div class="col-3"> <label class="col-form-label" for="basic-default-fullname">مسلسل</label> </div>
         <div class="col-8"> <input type="text" class=" form-control"  matInput id="basic-default-fullname" placeholder=""> </div> -->
        </div>
        <!-- <div class="mb-3 row">
         <div class="col-3"> <label class="col-form-label" for="basic-default-company">رقم الصنف</label> </div>
         <div class="col-8"> <input type="text" class="form-control" id="basic-default-company" placeholder="123456789">
         </div>
        </div> -->

        <div class="mb-3 d-flex justify-content-center ">    

           <mat-label class="display-6 text-primary text-center">{{itemName}}  <span class="text-danger">{{itemUnitName}} </span></mat-label>      
          
          </div>
          <div class="mb-3 d-flex justify-content-center ">
            <div class="col-6">     <div >      <mat-form-field >
              <mat-label> الرصيد</mat-label>
              <input   matInput value="{{itemBalance}}" readonly="true" formControlName="Balance"  >
            </mat-form-field> </div></div>
            <div class="col-6">   <div >     
               <mat-form-field  appearance="outline">
              <mat-label>أدخل الكمية</mat-label>
              <input 
              [class.is-valid]="Quantity?.valid" [class.is-invalid]="Quantity?.invalid" 
            formControlName="Quantity"  
              matInput>
            </mat-form-field> </div></div>

       
            
       
          </div>

        <!-- <div class="mb-3">
          <label class="form-label" for="basic-default-email">Email</label>
          <div class="input-group input-group-merge">
            <input type="text" id="basic-default-email" class="form-control" placeholder="john.doe" aria-label="john.doe" aria-describedby="basic-default-email2">
            <span class="input-group-text" id="basic-default-email2">@example.com</span>
          </div>
          <div class="form-text">You can use letters, numbers &amp; periods</div>
        </div>
         -->
     
     
          <!-- <label class="col-form-label" for="basic-default-message">مواصفات فنية</label> -->

    <div class="d-flex justify-content-center ">
      <div class="col-6">
        <div >     
           <mat-form-field appearance="outline">
          <mat-label>أدخل رقم القطعة</mat-label>
          <input
          [class.is-valid]="Part_No?.valid" [class.is-invalid]="Part_No?.invalid" 
          formControlName="Part_No"  
          matInput>
        </mat-form-field> </div>
      </div>
      <div class="col-6">
        <div >      <mat-form-field appearance="outline" >
          <mat-label>أدخل العدد العامل</mat-label>
          <input
          [class.is-valid]="Working_No?.valid" [class.is-invalid]="Working_No?.invalid" 
          formControlName="Working_No"  
          matInput>
        </mat-form-field> </div>
      </div>


    </div>

          <div class="mb-3 d-flex  justify-content-center">
          
            <div>
          
              <mat-form-field appearance="outline" style="width:400px;">
          
                <mat-label>أدخل المواصفات الفنية</mat-label>
          
                <textarea
                [class.is-valid]="Tech_Descr?.valid" [class.is-invalid]="Tech_Descr?.invalid" 
                formControlName="Tech_Descr"  
                matInput placeholder="اكتب أى مواصفات فنية "></textarea>
          
              </mat-form-field>
          
            </div>
          
          </div>
   

      <div class="row  flex-row mb-3 row-cols-auto  justify-content-center">
               
        <div class="  col-auto" >
          <button mat-raised-button class="display-1 fs-5 fw-bolder"   color="accent" (click)="clearForm()"><mat-icon>clear</mat-icon>جديد </button>
        </div>
        <div class=" col-auto">
          <button mat-raised-button  class="display-1 fs-5 fw-bolder"  color="warn" (click)="addItem()"><mat-icon>add_shopping_cart</mat-icon>إضافة</button>
        </div>
        <div class="col-auto ">
          <button type="submit" class="w-20 auto-mix
           display-1 fs-5 fw-bolder" mat-raised-button color="primary" (click)="updItem()"><mat-icon>update</mat-icon>تعديل</button>
        </div>
       
        <div class="col-auto ">
          <button type="button"  mat-raised-button class="  btn-lg bg-dark text-warning display-1 fs-5 fw-bolder"  (click)="delItem()">حذف<mat-icon>delete_forever</mat-icon></button>
        </div>

       
  
        
 
        

        


      </div>

      </form>
    </div>
  </div>
  </div>
  <div class="col" style="width: 700px;">
    <div class="card-header  ">
      <div class="row">
       <div class="col-5">

       <p class="display-5 fw-bold fs-5 text-center">أرصدة المصانع</p>
      </div>
      <div class="col">
    <mat-form-field> 
      
      <mat-label>بحث</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
    </mat-form-field> 
  </div>
  </div>
  </div>

    <div class="body bg-danger">
            <div class="row"  >
      

      <div class="text-white display-1 fs-5 fw-bolder "   class="mat-elevation-z8">
  
   
        <!-- <p class="text-dark   text-center display-1 fs-3 fw-bolder ">أرصدة الوحدات</p> -->
    
    <table class="text-dark display-1 fs-5 fw-bolder  mt-4"  mat-table [dataSource]="dataSource"  >
        
        <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->
      
        <!-- Position Column -->
        <!-- <ng-container matColumnDef="Fact_Id">
          <th  mat-header-cell *matHeaderCellDef > رقم المصنع</th>
          <td   mat-cell *matCellDef="let element"> {{element.fact_Id}} </td>
        </ng-container> -->
        <ng-container matColumnDef="fact_Name">
            <th  mat-header-cell *matHeaderCellDef > اسم المصنع </th>
            <td  mat-cell *matCellDef="let element" > {{element.fact_Name}} </td>
          </ng-container>
      
        <!-- Name Column -->
        <!-- <ng-container  matColumnDef="Store_Id">
          <th  mat-header-cell *matHeaderCellDef > رقم المخزن </th>
          <td   mat-cell *matCellDef="let element"> {{element.store_Id}} </td>
        </ng-container> -->
    
    
       <!-- Name Column -->
      
    <!-- 
      <ng-container matColumnDef="scM_Store.name">
        <th  mat-header-cell *matHeaderCellDef > اسم المخزن </th>
        <td  mat-cell *matCellDef="let element"> {{element.scM_Store.name}} </td>
      </ng-container>
    
    
      <ng-container matColumnDef="Tran_Date">
        <th  mat-header-cell *matHeaderCellDef >تاريخ الحركة </th>
        <td  mat-cell *matCellDef="let element"> {{element.tran_Date |date:'yyyy/MM/dd'}} </td>
      </ng-container>
      <ng-container matColumnDef="Page">
        <th  mat-header-cell *matHeaderCellDef >الصفحة</th>
        <td  mat-cell *matCellDef="let element"> {{element.page}} </td>
      </ng-container>
    
      <ng-container matColumnDef="Ser">
        <th  mat-header-cell *matHeaderCellDef >سطر</th>
        <td  mat-cell *matCellDef="let element"> {{element.ser}} </td>
      </ng-container> -->
    
      <ng-container hidden="true" matColumnDef="item_Name">
        <th  mat-header-cell *matHeaderCellDef >اسم الصنف</th>
        <td  mat-cell *matCellDef="let element"> {{element.item_Name}} </td>
      </ng-container>
    
      <ng-container matColumnDef="quantity_Master">
        <th  mat-header-cell *matHeaderCellDef >   الكمية المرحلة</th>
        <td  mat-cell *matCellDef="let element"> {{element.quantity_Master}} </td>
      </ng-container>
    
      <ng-container matColumnDef="quantity_Trans">
        <th  mat-header-cell *matHeaderCellDef > الكمية المسجلة</th>
        <td  mat-cell *matCellDef="let element"> {{element.quantity_Trans}} </td>
      </ng-container>
      
      
    
    
        <tr mat-header-row class="text-dark fw-bolder display-4 text-center bg-warning" *matHeaderRowDef="displayedColumns"></tr>
        <tr class="text-dark display-1 fs-5 fw-bolder "  mat-row  *matRowDef="let row; columns: displayedColumns;" [ngClass]="{'bg-warning': row.tran_Code==2}"></tr>
      </table>
      <mat-paginator #paginator  [pageSizeOptions]="[5, 10, 20,40]" matSort 
      showFirstLastButtons      aria-label="Select page of periodic elements">
    </mat-paginator>
      <!-- <table class="text-dark display-1 fs-5 fw-bolder  mt-4"  mat-table [dataSource]="itms"  >
    

        
        <ng-container matColumnDef="scM_Fact.name">

          <th  mat-header-cell *matHeaderCellDef > اسم المصنع </th>
          <td  mat-cell *matCellDef="let element "    >  {{element.scM_Fact.name}} </td>
        </ng-container>
        <ng-container matColumnDef="item_Name">
          <th  mat-header-cell *matHeaderCellDef > الصنف </th>
          <td  mat-cell *matCellDef="let element " >  {{element.item_Name}} </td>
        </ng-container>

        <ng-container matColumnDef="store_Quantity">
          <th  mat-header-cell *matHeaderCellDef > الكمية </th>
          <td  mat-cell *matCellDef="let element " >  {{element.store_Quantity}} </td>
        </ng-container>




        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

        <tr class="text-dark display-1 fs-5 fw-bolder "  mat-row  *matRowDef="let row; columns: displayedColumns;" ></tr>
      
     
      </table> -->



    </div>


  </div>


</div>
<div class="row">
<div class="col-12" *ngIf="isLoading">

  <app-spinner></app-spinner>
</div>
</div>
