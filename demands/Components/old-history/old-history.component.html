<div style="width: 900px;" *ngIf="isLoading"  >
  <app-sh-spinner ></app-sh-spinner>
 
</div>
<div *ngIf="!isLoading"  class="border border-dark b-3"

>


<div class="container " [@bounce]="{ value: bounce, params: { timing: myTiming || 2, delay: myDelay || 0 } }">

  <div class="card" style="height: 700px; width: 700px;overflow-x: scroll; overflow-y: scroll;"
  style="background-image:url('/assets/img/backgrounds/Ic.jpeg');height: 600px;
  background-size: cover; 
  "
  >
      <span class=" display-4 fw-bolder text-primary  text-center">بيانات الصنف التاريخية</span>
    
      <div class="row  mb-4">
        <div class="col-2">

          <span  class="display-5 text-primary  ">رقم الصنف</span>
        </div>
        <div class="col-2"> <span class="display-5  text-primary  ">{{ data.ItemId }}</span></div>
      
       

        <div class="col-5"> <span  class="display-5 text-primary mat-elevation-z24 " style="text-shadow:3px 3px #0026ff;">{{ itemName }}</span></div>

        <div class="col-3">
          <mat-form-field>
            <mat-label>بحث</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="ابحث عن " #input>
          </mat-form-field>
        </div>
      
      </div>
   
      
    
      <table   class="text-dark display-1 fs-5 fw-bolder  mt-4 " 
       mat-table  [dataSource]="dataSource" 
       matSort (matSortChange)="announceSortChange($event)" >
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by symbol" >م</th>
          <td class="bg-warning" mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
        </ng-container>
        
        <ng-container matColumnDef="hfactor_no">
          <th  mat-header-cell *matHeaderCellDef  > رقم المصنع </th>
          <td  mat-cell *matCellDef="let element" > {{element.hfactor_no}} </td>
        </ng-container>
  
        <ng-container matColumnDef="hstore_no">
          <th  mat-header-cell *matHeaderCellDef >المخزن </th>
          <td  mat-cell *matCellDef="let element" > {{element.hstore_no}} </td>
        </ng-container>
        <ng-container matColumnDef="hpage_no">
          <th  mat-header-cell *matHeaderCellDef >الصفحة </th>
          <td  mat-cell *matCellDef="let element" > {{element.hpage_no}} </td>
        </ng-container>

        <ng-container matColumnDef="hline_no">
          <th  mat-header-cell *matHeaderCellDef >السطر </th>
          <td  mat-cell *matCellDef="let element" > {{element.hline_no}} </td>
        </ng-container>

        <!-- <ng-container matColumnDef="hitem_no">
          <th  mat-header-cell *matHeaderCellDef >الصنف </th>
          <td  mat-cell *matCellDef="let element" > {{element.hitem_no}} </td>
        </ng-container> -->

        <ng-container matColumnDef="htran_date">
          <th  mat-header-cell *matHeaderCellDef > تاريخ الحركة</th>
          <td  mat-cell *matCellDef="let element" > {{ element.htran_date | date : "yyyy/MM/dd"}}</td>
        </ng-container>
  
        <ng-container matColumnDef="htran_cd">
          <th  mat-header-cell *matHeaderCellDef > الحركة</th>
          <td  mat-cell *matCellDef="let element" > {{ element.htran_cd}}</td>
        </ng-container>
  
        <ng-container matColumnDef="hcost_cd">
          <th  mat-header-cell *matHeaderCellDef > مركز التكلفة</th>
          <td  mat-cell *matCellDef="let element" > {{ element.hcost_cd}}</td>
        </ng-container>

        <ng-container matColumnDef="htrans_qty">
          <th  mat-header-cell *matHeaderCellDef > الكمية </th>
          <td  mat-cell *matCellDef="let element" > {{ element.htrans_qty| number: '1.0-2'}}</td>
        </ng-container>
  
        <ng-container matColumnDef="htrans_val">
          <th  mat-header-cell *matHeaderCellDef > القيمة</th>
          <td  mat-cell *matCellDef="let element" > {{ element.htrans_val | number: '1.0-2' }}</td>
        </ng-container>

        <ng-container matColumnDef="suppl_no">
          <th  mat-header-cell *matHeaderCellDef > رقم العلم</th>
          <td  mat-cell *matCellDef="let element" > {{ element.suppl_no}}</td>
        </ng-container>


        <ng-container matColumnDef="suppl_date">
          <th  mat-header-cell *matHeaderCellDef > تاريخ العلم</th>
          <td  mat-cell *matCellDef="let element" > {{ element.suppl_date | date : "yyyy/MM/dd"}}</td>
        </ng-container>

        <ng-container matColumnDef="suppl_name">
          <th  mat-header-cell *matHeaderCellDef > المورد </th>
          <td  mat-cell *matCellDef="let element" > {{ element.suppl_name}}</td>
        </ng-container>
  


        <tr mat-header-row class=" display-5 fs-5 fw-bolder text-center text-white bg-dark" *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr matRipple  class="text-dark display-1  text-center fs-5 fw-bolder "   mat-row  *matRowDef="let row; columns: displayedColumns;" [ngClass]="{'bg-danger': row.htran_cd==3,'bg-warning':row.htran_cd ==2,'bg-info':row.htran_cd ==4}"></tr>
        <!-- (click)="asd(row.fact_Id,row.item_No)" -->
    
        
      </table>

      <mat-paginator #paginator  [pageSizeOptions]="[5, 10, 20,40]" matSort 
          showFirstLastButtons      aria-label="Select page of periodic elements">
        </mat-paginator>

     
  
     
      
    </div>
    
  </div>
</div>
